<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11) on Mon Jan 21 17:52:07 GMT 2019 -->
<title>Tube (Metro Web Services Runtime non-OSGi Bundle 2.4.3 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2019-01-21">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Tube (Metro Web Services Runtime non-OSGi Bundle 2.4.3 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Tube.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.sun.xml.ws.api.pipe</a></div>
<h2 title="Interface Tube" class="title">Interface Tube</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="../../server/EndpointAwareTube.html" title="interface in com.sun.xml.ws.server">EndpointAwareTube</a></code></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="helper/AbstractFilterTubeImpl.html" title="class in com.sun.xml.ws.api.pipe.helper">AbstractFilterTubeImpl</a></code>, <code><a href="../../util/pipe/AbstractSchemaValidationTube.html" title="class in com.sun.xml.ws.util.pipe">AbstractSchemaValidationTube</a></code>, <code><a href="helper/AbstractTubeImpl.html" title="class in com.sun.xml.ws.api.pipe.helper">AbstractTubeImpl</a></code>, <code><a href="../../server/provider/AsyncProviderInvokerTube.html" title="class in com.sun.xml.ws.server.provider">AsyncProviderInvokerTube</a></code>, <code><a href="../../handler/ClientLogicalHandlerTube.html" title="class in com.sun.xml.ws.handler">ClientLogicalHandlerTube</a></code>, <code><a href="../../handler/ClientMessageHandlerTube.html" title="class in com.sun.xml.ws.handler">ClientMessageHandlerTube</a></code>, <code><a href="../../protocol/soap/ClientMUTube.html" title="class in com.sun.xml.ws.protocol.soap">ClientMUTube</a></code>, <code><a href="../../client/ClientSchemaValidationTube.html" title="class in com.sun.xml.ws.client">ClientSchemaValidationTube</a></code>, <code><a href="../../../wss/provider/wsit/ClientSecurityTube.html" title="class in com.sun.xml.wss.provider.wsit">ClientSecurityTube</a></code>, <code><a href="../../handler/ClientSOAPHandlerTube.html" title="class in com.sun.xml.ws.handler">ClientSOAPHandlerTube</a></code>, <code><a href="../../transport/DeferredTransportPipe.html" title="class in com.sun.xml.ws.transport">DeferredTransportPipe</a></code>, <code><a href="../../util/pipe/DumpTube.html" title="class in com.sun.xml.ws.util.pipe">DumpTube</a></code>, <code><a href="../../handler/HandlerTube.html" title="class in com.sun.xml.ws.handler">HandlerTube</a></code>, <code><a href="../../transport/http/client/HttpTransportPipe.html" title="class in com.sun.xml.ws.transport.http.client">HttpTransportPipe</a></code>, <code><a href="../../server/InvokerTube.html" title="class in com.sun.xml.ws.server">InvokerTube</a></code>, <code><a href="../../server/sei/InvokerTube.html" title="class in com.sun.xml.ws.server.sei">InvokerTube</a></code>, <code><a href="../../dump/LoggingDumpTube.html" title="class in com.sun.xml.ws.dump">LoggingDumpTube</a></code>, <code><a href="../../rx/mc/runtime/McClientTube.html" title="class in com.sun.xml.ws.rx.mc.runtime">McClientTube</a></code>, <code><a href="../../rx/mc/runtime/McServerTube.html" title="class in com.sun.xml.ws.rx.mc.runtime">McServerTube</a></code>, <code><a href="../../addressing/v200408/MemberSubmissionWsaClientTube.html" title="class in com.sun.xml.ws.addressing.v200408">MemberSubmissionWsaClientTube</a></code>, <code><a href="../../addressing/v200408/MemberSubmissionWsaServerTube.html" title="class in com.sun.xml.ws.addressing.v200408">MemberSubmissionWsaServerTube</a></code>, <code><a href="../../mex/server/MetadataServerPipe.html" title="class in com.sun.xml.ws.mex.server">MetadataServerPipe</a></code>, <code><a href="helper/PipeAdapter.html" title="class in com.sun.xml.ws.api.pipe.helper">PipeAdapter</a></code>, <code><a href="../../server/provider/ProviderInvokerTube.html" title="class in com.sun.xml.ws.server.provider">ProviderInvokerTube</a></code>, <code><a href="../../../wss/jaxws/impl/SecurityClientTube.html" title="class in com.sun.xml.wss.jaxws.impl">SecurityClientTube</a></code>, <code><a href="../../../wss/jaxws/impl/SecurityServerTube.html" title="class in com.sun.xml.wss.jaxws.impl">SecurityServerTube</a></code>, <code><a href="../../../wss/jaxws/impl/SecurityTubeBase.html" title="class in com.sun.xml.wss.jaxws.impl">SecurityTubeBase</a></code>, <code><a href="../../server/sei/SEIInvokerTube.html" title="class in com.sun.xml.ws.server.sei">SEIInvokerTube</a></code>, <code><a href="../../handler/ServerLogicalHandlerTube.html" title="class in com.sun.xml.ws.handler">ServerLogicalHandlerTube</a></code>, <code><a href="../../handler/ServerMessageHandlerTube.html" title="class in com.sun.xml.ws.handler">ServerMessageHandlerTube</a></code>, <code><a href="../../protocol/soap/ServerMUTube.html" title="class in com.sun.xml.ws.protocol.soap">ServerMUTube</a></code>, <code><a href="../../server/ServerSchemaValidationTube.html" title="class in com.sun.xml.ws.server">ServerSchemaValidationTube</a></code>, <code><a href="../../../wss/provider/wsit/ServerSecurityTube.html" title="class in com.sun.xml.wss.provider.wsit">ServerSecurityTube</a></code>, <code><a href="../../handler/ServerSOAPHandlerTube.html" title="class in com.sun.xml.ws.handler">ServerSOAPHandlerTube</a></code>, <code><a href="../../rx/rm/runtime/ServerTube.html" title="class in com.sun.xml.ws.rx.rm.runtime">ServerTube</a></code>, <code><a href="../../transport/tcp/client/ServiceChannelTransportPipe.html" title="class in com.sun.xml.ws.transport.tcp.client">ServiceChannelTransportPipe</a></code>, <code><a href="../../server/provider/SyncProviderInvokerTube.html" title="class in com.sun.xml.ws.server.provider">SyncProviderInvokerTube</a></code>, <code><a href="../../transport/tcp/client/TCPTransportPipe.html" title="class in com.sun.xml.ws.transport.tcp.client">TCPTransportPipe</a></code>, <code><a href="../../addressing/W3CWsaClientTube.html" title="class in com.sun.xml.ws.addressing">W3CWsaClientTube</a></code>, <code><a href="../../addressing/W3CWsaServerTube.html" title="class in com.sun.xml.ws.addressing">W3CWsaServerTube</a></code>, <code><a href="../../addressing/WsaClientTube.html" title="class in com.sun.xml.ws.addressing">WsaClientTube</a></code>, <code><a href="../../addressing/WsaServerTube.html" title="class in com.sun.xml.ws.addressing">WsaServerTube</a></code>, <code><a href="../../tx/at/tube/WSATClientTube.html" title="class in com.sun.xml.ws.tx.at.tube">WSATClientTube</a></code>, <code><a href="../../tx/at/tube/WSATServerTube.html" title="class in com.sun.xml.ws.tx.at.tube">WSATServerTube</a></code>, <code><a href="../../../xwss/XWSSClientTube.html" title="class in com.sun.xml.xwss">XWSSClientTube</a></code>, <code><a href="../../../xwss/XWSSServerTube.html" title="class in com.sun.xml.xwss">XWSSServerTube</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">Tube</span></pre>
<div class="block">Abstraction of the intermediate layers in the processing chain
 and transport.

 <h2>What is a <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>?</h2>
 <p>
 <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> is a basic processing unit that represents SOAP-level
 protocol handling code. Mutliple tubes are often put together in
 a line (it needs not one dimensional &mdash; more later), and act on
 <a href="../message/Packet.html" title="class in com.sun.xml.ws.api.message"><code>Packet</code></a>s in a sequential fashion.

 <p>
 <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>s run asynchronously. That is, there is no guarantee that
 <a href="#processRequest(com.sun.xml.ws.api.message.Packet)"><code>processRequest(Packet)</code></a> and <a href="#processResponse(com.sun.xml.ws.api.message.Packet)"><code>processResponse(Packet)</code></a> runs
 in the same thread, nor is there any guarantee that this tube and next
 tube runs in the same thread. Furthermore, one thread may be used to
 run multiple pipeline in turn (just like a real CPU runs multiple
 threads in turn.)


 <h2>Tube examples</h2>
 <p>
 Transport is a kind of tube. It sends the <a href="../message/Packet.html" title="class in com.sun.xml.ws.api.message"><code>Packet</code></a>
 through, say, HTTP connection, and receives the data back into another <a href="../message/Packet.html" title="class in com.sun.xml.ws.api.message"><code>Packet</code></a>.

 <p>
 More often, a tube works like a filter. It acts on a packet,
 and then it tells the JAX-WS that the packet should be passed into another
 tube. It can do the same on the way back.

 <p>
 For example, XWSS will be a <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>. It will act on a request
 <a href="../message/Packet.html" title="class in com.sun.xml.ws.api.message"><code>Packet</code></a>, then perhaps wrap it into
 another <a href="../message/Packet.html" title="class in com.sun.xml.ws.api.message"><code>Packet</code></a> to encrypt the body and add a header, then
 the processing will go on to the next tube.

 <p>
 Yet another kind of filter tube is those that wraps <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/handler/LogicalHandler.html?is-external=true" title="class or interface in javax.xml.ws.handler" class="externalLink"><code>LogicalHandler</code></a>
 and <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/handler/soap/SOAPHandler.html?is-external=true" title="class or interface in javax.xml.ws.handler.soap" class="externalLink"><code>SOAPHandler</code></a>. These tubes are heavy-weight; they often consume
 a message in a packet and create a new one, and then pass it to the next tube.

 <p>
 There would be a <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> implementation that invokes <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/Provider.html?is-external=true" title="class or interface in javax.xml.ws" class="externalLink"><code>Provider</code></a>.
 There would be a <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> implementation that invokes a service method
 on the user's code.
 There would be a <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/Dispatch.html?is-external=true" title="class or interface in javax.xml.ws" class="externalLink"><code>Dispatch</code></a> implementation that invokes a <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>.

 <p>
 WS-MEX can be implemented as a <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> that looks for
 <a href="../message/Message.html#getPayloadNamespaceURI()"><code>Message.getPayloadNamespaceURI()</code></a> and serves the request.




 <h2>Tube Lifecycle</h2>
 Pipeline is expensive to set up, so once it's created it will be reused.
 A pipeline is not reentrant; one pipeline is used to process one request/response
 at at time. The same pipeline instance may serve multiple request/response,
 if one comes after another and they don't overlap.
 <p>
 Where a need arises to process multiple requests concurrently, a pipeline
 gets cloned through <a href="TubeCloner.html" title="class in com.sun.xml.ws.api.pipe"><code>TubeCloner</code></a>. Note that this need may happen on
 both server (because it quite often serves multiple requests concurrently)
 and client (because it needs to support asynchronous method invocations.)
 <p>
 Created pipelines (including cloned ones and the original) may be discarded and GC-ed
 at any time at the discretion of whoever owns pipelines. Tubes can, however, expect
 at least one copy (or original) of pipeline to live at any given time while a pipeline
 owner is interested in the given pipeline configuration (in more concerete terms,
 for example, as long as a dispatch object lives, it's going to keep at least one
 copy of a pipeline alive.)
 <p>
 Before a pipeline owner dies, it may invoke <a href="#preDestroy()"><code>preDestroy()</code></a> on the last
 remaining pipeline. It is "may" for pipeline owners that live in the client-side
 of JAX-WS (such as dispatches and proxies), but it is a "must" for pipeline owners
 that live in the server-side of JAX-WS.
 <p>
 This last invocation gives a chance for some pipes to clean up any state/resource
 acquired (such as WS-RM's sequence, WS-Trust's SecurityToken), although as stated above,
 this is not required for clients.



 <h2>Tube and state</h2>
 <p>
 The lifecycle of pipelines is designed to allow a <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> to store various
 state in easily accessible fashion.


 <h3>Per-packet state</h3>
 <p>
 Any information that changes from a packet to packet should be
 stored in <a href="../message/Packet.html" title="class in com.sun.xml.ws.api.message"><code>Packet</code></a> (if such informaton is specific to your problem domain,
 then most likely <a href="../message/Packet.html#invocationProperties"><code>Packet.invocationProperties</code></a>.)
 This includes information like transport-specific headers.

 <h3>Per-thread state</h3>
 <p>
 Any expensive-to-create objects that are non-reentrant can be stored
 either in instance variables of a <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>, or a static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>ThreadLocal</code></a>.

 <p>
 The first approach works, because <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> is
 non reentrant. When a tube is copied, new instances should be allocated
 so that two <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> instances don't share thread-unsafe resources.

 Similarly the second approach works, since <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>ThreadLocal</code></a> guarantees
 that each thread gets its own private copy.

 <p>
 The former is faster to access, and you need not worry about clean up.
 On the other hand, because there can be many more concurrent requests
 than # of threads, you may end up holding onto more resources than necessary.

 <p>
 This includes state like canonicalizers, JAXB unmarshallers,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html?is-external=true" title="class or interface in java.text" class="externalLink"><code>SimpleDateFormat</code></a>, etc.


 <h3>Per-proxy/per-endpoint state</h3>
 <p>
 Information that is tied to a particular proxy/dispatch can be stored
 in a separate object that is referenced from a tube. When
 a new tube is copied, you can simply hand out a reference to the newly
 created one, so that all copied tubes refer to the same instance.
 See the following code as an example:

 <pre>
 class TubeImpl {
   // this object stores per-proxy state
   class DataStore {
     int counter;
   }

   private DataStore ds;

   // create a fresh new pipe
   public TubeImpl(...) {
     ....
     ds = new DataStore();
   }

   // copy constructor
   private TubeImpl(TubeImpl that, PipeCloner cloner) {
     cloner.add(that,this);
     ...
     this.ds = that.ds;
   }

   public TubeImpl copy(PipeCloner pc) {
     return new TubeImpl(this,pc);
   }
 }
 </pre>

 <p>
 Note that access to such resource may need to be synchronized,
 since multiple copies of pipelines may execute concurrently.



 <h3>VM-wide state</h3>
 <p>
 <code>static</code> is always there for you to use.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Kohsuke Kawaguchi, Jitendra Kotamraju</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="helper/AbstractTubeImpl.html" title="class in com.sun.xml.ws.api.pipe.helper"><code>AbstractTubeImpl</code></a>, 
<a href="helper/AbstractFilterTubeImpl.html" title="class in com.sun.xml.ws.api.pipe.helper"><code>AbstractFilterTubeImpl</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe">Tube</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#copy(com.sun.xml.ws.api.pipe.TubeCloner)">copy</a></span>&#8203;(<a href="TubeCloner.html" title="class in com.sun.xml.ws.api.pipe">TubeCloner</a>&nbsp;cloner)</code></th>
<td class="colLast">
<div class="block">Creates an identical clone of this <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#preDestroy()">preDestroy</a></span>()</code></th>
<td class="colLast">
<div class="block">Invoked before the last copy of the pipeline is about to be discarded,
 to give <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>s a chance to clean up any resources.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="NextAction.html" title="class in com.sun.xml.ws.api.pipe">NextAction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#processException(java.lang.Throwable)">processException</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;t)</code></th>
<td class="colLast">
<div class="block">Acts on a exception and performs some clean up operations.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="NextAction.html" title="class in com.sun.xml.ws.api.pipe">NextAction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#processRequest(com.sun.xml.ws.api.message.Packet)">processRequest</a></span>&#8203;(<a href="../message/Packet.html" title="class in com.sun.xml.ws.api.message">Packet</a>&nbsp;request)</code></th>
<td class="colLast">
<div class="block">Acts on a request and perform some protocol specific operation.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="NextAction.html" title="class in com.sun.xml.ws.api.pipe">NextAction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#processResponse(com.sun.xml.ws.api.message.Packet)">processResponse</a></span>&#8203;(<a href="../message/Packet.html" title="class in com.sun.xml.ws.api.message">Packet</a>&nbsp;response)</code></th>
<td class="colLast">
<div class="block">Acts on a response and performs some protocol specific operation.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="processRequest(com.sun.xml.ws.api.message.Packet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processRequest</h4>
<pre class="methodSignature"><a href="../../../../istack/NotNull.html" title="annotation in com.sun.istack">@NotNull</a>
<a href="NextAction.html" title="class in com.sun.xml.ws.api.pipe">NextAction</a>&nbsp;processRequest&#8203;(<a href="../../../../istack/NotNull.html" title="annotation in com.sun.istack">@NotNull</a>
                          <a href="../message/Packet.html" title="class in com.sun.xml.ws.api.message">Packet</a>&nbsp;request)</pre>
<div class="block">Acts on a request and perform some protocol specific operation.

 TODO: exception handling semantics need more discussion</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - The packet that represents a request message.
      If the packet has a non-null message, it must be a valid
      unconsumed <a href="../message/Message.html" title="class in com.sun.xml.ws.api.message"><code>Message</code></a>. This message represents the
      SOAP message to be sent as a request.
      <p>
      The packet is also allowed to carry no message, which indicates
      that this is an output-only request.
      (that's called "solicit", right? - KK)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <a href="NextAction.html" title="class in com.sun.xml.ws.api.pipe"><code>NextAction</code></a> object that represents the next action
      to be taken by the JAX-WS runtime.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/WebServiceException.html?is-external=true" title="class or interface in javax.xml.ws" class="externalLink">WebServiceException</a></code> - On the server side, this signals an error condition where
      a fault reply is in order (or the exception gets eaten by
      the top-most transport <a href="../server/Adapter.html" title="class in com.sun.xml.ws.api.server"><code>Adapter</code></a> if it's one-way.)
      This frees each <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> from try/catching a
      <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/WebServiceException.html?is-external=true" title="class or interface in javax.xml.ws" class="externalLink"><code>WebServiceException</code></a> in every layer.

      Note that this method is also allowed to return
      <a href="NextAction.html#returnWith(com.sun.xml.ws.api.message.Packet)"><code>NextAction.returnWith(Packet)</code></a> with
      a <a href="../message/Packet.html" title="class in com.sun.xml.ws.api.message"><code>Packet</code></a> that has a fault as the payload.

      <p>
      On the client side, the <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/WebServiceException.html?is-external=true" title="class or interface in javax.xml.ws" class="externalLink"><code>WebServiceException</code></a> thrown
      will be propagated all the way back to the calling client
      applications. (The consequence of that is that if you are
      a filtering <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>, you must not eat the exception
      that was given to <a href="#processException(java.lang.Throwable)"><code>processException(Throwable)</code></a> .</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang" class="externalLink">RuntimeException</a></code> - Other runtime exception thrown by this method must
      be treated as a bug in the tube implementation,
      and therefore should not be converted into a fault.
      (Otherwise it becomes very difficult to debug implementation
      problems.)

      <p>
      On the server side, this exception should be most likely
      just logged. On the client-side it gets propagated to the
      client application.

      <p>
      The consequence of this is that if a pipe calls
      into an user application (such as <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/handler/soap/SOAPHandler.html?is-external=true" title="class or interface in javax.xml.ws.handler.soap" class="externalLink"><code>SOAPHandler</code></a>
      or <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/handler/LogicalHandler.html?is-external=true" title="class or interface in javax.xml.ws.handler" class="externalLink"><code>LogicalHandler</code></a>), where a <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>RuntimeException</code></a>
      is *not* a bug in the JAX-WS implementation, it must be catched
      and wrapped into a <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/WebServiceException.html?is-external=true" title="class or interface in javax.xml.ws" class="externalLink"><code>WebServiceException</code></a>.</dd>
</dl>
</li>
</ul>
<a id="processResponse(com.sun.xml.ws.api.message.Packet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processResponse</h4>
<pre class="methodSignature"><a href="../../../../istack/NotNull.html" title="annotation in com.sun.istack">@NotNull</a>
<a href="NextAction.html" title="class in com.sun.xml.ws.api.pipe">NextAction</a>&nbsp;processResponse&#8203;(<a href="../../../../istack/NotNull.html" title="annotation in com.sun.istack">@NotNull</a>
                           <a href="../message/Packet.html" title="class in com.sun.xml.ws.api.message">Packet</a>&nbsp;response)</pre>
<div class="block">Acts on a response and performs some protocol specific operation.

 <p>
 Once a <a href="#processRequest(com.sun.xml.ws.api.message.Packet)"><code>processRequest(Packet)</code></a> is invoked, this method
 will be always invoked with the response, before this <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>
 processes another request.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>response</code> - If the packet has a non-null message, it must be
      a valid unconsumed <a href="../message/Message.html" title="class in com.sun.xml.ws.api.message"><code>Message</code></a>. This message represents
      a response to the request message passed to
      <a href="#processRequest(com.sun.xml.ws.api.message.Packet)"><code>processRequest(Packet)</code></a> earlier.
      <p>
      The packet is also allowed to carry no message, which indicates
      that there was no response. This is used for things like
      one-way message and/or one-way transports.

 TODO: exception handling semantics need more discussion</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <a href="NextAction.html" title="class in com.sun.xml.ws.api.pipe"><code>NextAction</code></a> object that represents the next action
      to be taken by the JAX-WS runtime.</dd>
</dl>
</li>
</ul>
<a id="processException(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processException</h4>
<pre class="methodSignature"><a href="../../../../istack/NotNull.html" title="annotation in com.sun.istack">@NotNull</a>
<a href="NextAction.html" title="class in com.sun.xml.ws.api.pipe">NextAction</a>&nbsp;processException&#8203;(<a href="../../../../istack/NotNull.html" title="annotation in com.sun.istack">@NotNull</a>
                            <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;t)</pre>
<div class="block">Acts on a exception and performs some clean up operations.

 <p>
 If a <a href="#processRequest(com.sun.xml.ws.api.message.Packet)"><code>processRequest(Packet)</code></a>, <a href="#processResponse(com.sun.xml.ws.api.message.Packet)"><code>processResponse(Packet)</code></a>,
 <a href="#processException(java.lang.Throwable)"><code>processException(Throwable)</code></a> throws an exception, this method
 will be always invoked on all the <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>s in the remaining
 <a href="NextAction.html" title="class in com.sun.xml.ws.api.pipe"><code>NextAction</code></a>s.

 <p>
 On the server side, the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Throwable</code></a> thrown will be propagated to the
 top-most transport. The transport converts the exception to fault reply or
 simply logs in case of one-way MEP. If you are a filtering <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> like
 <a href="helper/AbstractTubeImpl.html" title="class in com.sun.xml.ws.api.pipe.helper"><code>AbstractTubeImpl</code></a>, you don't have to override the implementation). On
 the other hand, any intermediate <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> may want to convert the exception
 to a fault message.

 <p>
 On the client side, the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>Throwable</code></a> thrown
 will be propagated all the way back to the calling client
 applications. (The consequence of that is that if you are
 a filtering <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> like <a href="helper/AbstractTubeImpl.html" title="class in com.sun.xml.ws.api.pipe.helper"><code>AbstractTubeImpl</code></a>, you don't have to
 override the implementation)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <a href="NextAction.html" title="class in com.sun.xml.ws.api.pipe"><code>NextAction</code></a> object that represents the next action
      to be taken by the JAX-WS runtime.</dd>
</dl>
</li>
</ul>
<a id="preDestroy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preDestroy</h4>
<pre class="methodSignature">void&nbsp;preDestroy()</pre>
<div class="block">Invoked before the last copy of the pipeline is about to be discarded,
 to give <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>s a chance to clean up any resources.

 <p>
 This can be used to invoke <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/PreDestroy.html?is-external=true" title="class or interface in javax.annotation" class="externalLink"><code>PreDestroy</code></a> lifecycle methods
 on user handler. The invocation of it is optional on the client side,
 but mandatory on the server side.

 <p>
 When multiple copies of pipelines are created, this method is called
 only on one of them.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/WebServiceException.html?is-external=true" title="class or interface in javax.xml.ws" class="externalLink">WebServiceException</a></code> - If the clean up fails, <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/WebServiceException.html?is-external=true" title="class or interface in javax.xml.ws" class="externalLink"><code>WebServiceException</code></a> can be thrown.
      This exception will be propagated to users (if this is client),
      or recorded (if this is server.)</dd>
</dl>
</li>
</ul>
<a id="copy(com.sun.xml.ws.api.pipe.TubeCloner)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>copy</h4>
<pre class="methodSignature"><a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe">Tube</a>&nbsp;copy&#8203;(<a href="TubeCloner.html" title="class in com.sun.xml.ws.api.pipe">TubeCloner</a>&nbsp;cloner)</pre>
<div class="block">Creates an identical clone of this <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>.

 <p>
 This method creates an identical pipeline that can be used
 concurrently with this pipeline. When the caller of a pipeline
 is multi-threaded and need concurrent use of the same pipeline,
 it can do so by creating copies through this method.

 <h3>Implementation Note</h3>
 <p>
 It is the implementation's responsibility to call
 <a href="TubeCloner.html#add(com.sun.xml.ws.api.pipe.Tube,com.sun.xml.ws.api.pipe.Tube)"><code>TubeCloner.add(Tube,Tube)</code></a> to register the copied pipe
 with the original. This is required before you start copying
 the other <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> references you have, or else there's a
 risk of infinite recursion.
 <p>
 For most <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> implementations that delegate to another
 <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>, this method requires that you also copy the <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>
 that you delegate to.
 <p>
 For limited number of <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>s that do not maintain any
 thread unsafe resource, it is allowed to simply return <code>this</code>
 from this method (notice that even if you are stateless, if you
 got a delegating <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> and that one isn't stateless, you
 still have to copy yourself.)

 <p>
 Note that this method might be invoked by one thread while another
 thread is executing the other process method. See
 the <a href="Codec.html#copy()"><code>Codec.copy()</code></a> for more discussion about this.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cloner</code> - Use this object (in particular its <a href="TubeCloner.html#copy(T)"><code>TubeCloner.copy(Tube)</code></a> method
      to clone other pipe references you have
      in your pipe. See <a href="TubeCloner.html" title="class in com.sun.xml.ws.api.pipe"><code>TubeCloner</code></a> for more discussion
      about why.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>always non-null <a href="Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Tube.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2005&#x2013;2019 <a href="http://www.oracle.com/">Oracle Corporation</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
