<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11) on Mon Jan 21 17:52:07 GMT 2019 -->
<title>com.sun.xml.ws.client (Metro Web Services Runtime non-OSGi Bundle 2.4.3 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2019-01-21">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="com.sun.xml.ws.client (Metro Web Services Runtime non-OSGi Bundle 2.4.3 API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<main role="main">
<div class="header">
<h1 title="Package" class="title">Package&nbsp;com.sun.xml.ws.client</h1>
</div>
<div class="contentContainer">
<section role="region"><a id="package.description">
<!--   -->
</a>
<div class="block"><h1>JAX-WS 2.0.1 Client Runtime</h1>
 <P>This document describes the architecture of client side 
 JAX-WS 2.0.1 runtime. 

 <h3>JAX-WS 2.0.1 Client Sequence Diagram</h3>
 <img src='../../../../../jaxws/basic-client.seq.png'>
 <h3>JAX-WS 2.0.1 Asynchronous Invocation Sequence Diagram</h3>
 <img src='../../../../../jaxws/client-async.seq.png'>
 <h3>JAX-WS 2.0.1 Dispatch Invocation Sequence Diagram</h3>
 <img src='../../../../../jaxws/dispatch.seq.png'>

 <H3>Message Flow</H3>
 <code>com.sun.xml.ws.client.WebService</code> provides client view of a Web service.
 WebService.getPort returns an instance of <code>com.sun.xml.ws.client.EndpointIFInvocationHandler</code>
 with <code>com.sun.pept.ept.ContactInfoList</code> and <code>com.sun.pept.Delegate</code> 
 initialized. A method invocation on the port, obtained from WebService, invokes
 <code>com.sun.xml.ws.client.EndpointIFInvocationHandler#invoke</code>. This method 
 then creates a <code>com.sun.pept.ept.MessageInfo</code> and populates the data 
 (parameters specified by the user) and metadata such as RuntimeContext, RequestContext, 
 Message Exchange Pattern into this MessageInfo. This method then invokes 
 <code>com.sun.pept.Delegate#send</code> and returns the response.
 <P></P>
 The Delegate.send method iterates through the ContactInfoList and picks up the 
 correct <code>com.sun.pept.ept.ContactInfo</code> based upon the binding id of 
 <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/BindingProvider.html?is-external=true" title="class or interface in javax.xml.ws" class="externalLink"><code>BindingProvider</code></a> and sets it on the MessageInfo. After the 
 Delegate obtains a specific ContactInfo it uses that ContactInfo to obtain a 
 protocol-specific <code>com.sun.pept.protocol.MessageDispatcher</code>. There will be 
 two types of client-side MessageDispatchers for JAX-WS 2.0.1, 
 <code>com.sun.xml.ws.protocol.soap.client.SOAPMessageDispatcher</code> and 
 <code>com.sun.xml.ws.protocol.xml.client.XMLMessageDispatcher</code>. The Delegate 
 then invokes <code>com.sun.pept.protocol.MessageDispatcher#send</code>. The 
 MessageDispatcher.send method makes a decision about the synchronous and 
 asynchronous nature of the message exchange pattern and invokes separate methods
 accordingly.
 <p></P>
 The MessageDispatcher uses ContactInfo to obtain
 a <code>com.sun.xml.ws.encoding.soap.client.SOAPXMLEncoder</code> which converts 
 the MessageInfo to <code>com.sun.xml.ws.encoding.soap.internal.InternalMessage</code>. 
 There will be two types of client-side SOAPXMLEncoder for JAX-WS 2.0.1, 
 SOAPXMEncoder for SOAP 1.1 and <code>com.sun.xml.ws.encoding.soap.client.SOAP12XMLEncoder</code>
 for SOAP 1.2. The MessageDispatcher invokes configured handlers and use the 
 codec to convert the InternalMessage to a <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/soap/SOAPMessage.html?is-external=true" title="class or interface in javax.xml.soap" class="externalLink"><code>SOAPMessage</code></a>.
 The metadata from the MessageInfo is classified into <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/soap/MimeHeaders.html?is-external=true" title="class or interface in javax.xml.soap" class="externalLink"><code>MimeHeaders</code></a> 
 of this SOAPMessage and context information for <code>com.sun.xml.ws.api.server.WSConnection</code>.
 The SOAPMessge is then written to the output stream of the WSConnection
 obtained from MessageInfo.
<P></P>
 The MessageDispatcher.receive method handles the response. The 
 SOAPMessageDispatcher extracts the SOAPMessage from the input stream of 
 WSConnection and performs the mustUnderstand processing followed by invocation 
 of any handlers. The MessageDispatcher uses ContactInfo to obtain a 
 <code>com.sun.xml.ws.encoding.soap.client.SOAPXMLDecoder</code> which converts the SOAPMessage 
 to InternalMessage and then InternalMessage to MessageInfo. There will be two types of 
 client-side SOAPXMLDecoder for JAX-WS 2.0.1, SOAPXMLDencoder for SOAP 1.1 and 
 <code>com.sun.xml.ws.encoding.soap.client.SOAP12XMLDecoder</code> for SOAP 1.2. The 
 response is returned back to the client code via Delegate.

 <H3>External Interactions</H3>
 <H4>SAAJ API</H4>
 <UL>
        <LI><P>JAX-WS creates SAAJ SOAPMessage from the HttpServletRequest.
        At present, JAX-WS reads all the bytes from the request stream and
        then creates SOAPMessage along with the HTTP headers.</P>
 </UL>
 <P>MessageFactory(binding).createMessage(MimeHeaders, InputStream)</P>
 <UL>
        <LI><P>SOAPMessage parses the content from the stream including MIME
        data</P>
        <LI><P>com.sun.xml.ws.server.SOAPMessageDispatcher::checkHeadersPeekBody()</P>
        <P>SOAPMessage.getSOAPHeader() is used for mustUnderstand processing
        of headers. It further uses
        SOAPHeader.examineMustUnderstandHeaderElements(role)</P>
        <P>SOAPMessage.getSOAPBody().getFistChild() is used for guessing the
        MEP of the request</P>
        <LI><P>com.sun.xml.ws.handler.HandlerChainCaller:insertFaultMessage()</P>
        <P>SOAPMessage.getSOAPPart().getEnvelope() and some other SAAJ calls
        are made to create a fault in the SOAPMessage</P>
        <LI><P>com.sun.xml.ws.handler.LogicalMessageImpl::getPayload()
        interacts with SAAJ to get body from SOAPMessage</P>
        <LI><P>com.sun.xml.ws.encoding.soap.SOAPEncoder.toSOAPMessage(com.sun.xml.ws.encoding.soap.internal.InternalMessage,
        SOAPMessage). There is a scenario where there is SOAPMessage and a
        logical handler sets payload as Source. To write to the stream,
        SOAPMessage.writeTo() is used but before that the body needs to be
        updated with logical handler' Source. Need to verify if this
        scenario is still happening since Handler.close() is changed to take
        MessageContext.</P>
        <LI><P>com.sun.xml.ws.handlerSOAPMessageContextImpl.getHeaders()
        uses SAAJ API to get headers.</P>
        <LI><P>SOAPMessage.writeTo() is used to write response. At present,
        it writes into byte[] and this byte[] is written to
        HttpServletResponse.</P>
 </UL>
 <H4>JAXB API</H4>
 <P>JAX-WS RI uses the JAXB API to marshall/unmarshall user created
 JAXB objects with user created <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/JAXBContext.html?is-external=true" title="class or interface in javax.xml.bind" class="externalLink"><code>JAXBContext</code></a>. 
 Handler, Dispatch in JAX-WS API provide ways for the user to specify his/her own
 JAXBContext. <code>JAXBTypeSerializer</code> class uses all these methods.</P>
 <UL>
        <LI><p><a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/Marshaller.html?is-external=true#marshal(java.lang.Object,javax.xml.stream.XMLStreamWriter)" title="class or interface in javax.xml.bind" class="externalLink"><code>Marshaller.marshal(Object,XMLStreamWriter)</code></a></p>
        <LI><P><a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/Marshaller.html?is-external=true#marshal(java.lang.Object,javax.xml.transform.Result)" title="class or interface in javax.xml.bind" class="externalLink"><code>Marshaller.marshal(Object, DomResult)</code></a></P>
        <LI><P><a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/Unmarshaller.html?is-external=true#unmarshal(javax.xml.stream.XMLStreamReader)" title="class or interface in javax.xml.bind" class="externalLink"><code>Object Unmarshaller.unmarshal(XMLStreamReader)</code></a></P>
        <LI><P><a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/Unmarshaller.html?is-external=true#unmarshal(javax.xml.transform.Source)" title="class or interface in javax.xml.bind" class="externalLink"><code>Object Unmarshaller.unmarshal(Source)</code></a></P>
 </UL>
 The following two JAXB classes are implemented by JAX-WS to enable/implement MTOM and XOP
 <UL>
      <LI><P><a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/attachment/AttachmentMarshaller.html?is-external=true" title="class or interface in javax.xml.bind.attachment" class="externalLink"><code>AttachmentMarshaller</code></a></P>
      <LI><P><a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/attachment/AttachmentUnmarshaller.html?is-external=true" title="class or interface in javax.xml.bind.attachment" class="externalLink"><code>AttachmentUnmarshaller</code></a></P>
 </UL>
 <H4>JAXB Runtime-API (private contract)</H4>
 <P>JAX-WS RI uses these private API for serialization/deserialization
 purposes. This private API is used to serialize/deserialize method
 parameters at the time of JAXBTypeSerializer class uses all
 these methods.</P>
 <UL>
        <LI><P><a href="../../bind/api/Bridge.html#marshal(com.sun.xml.bind.api.BridgeContext,T,javax.xml.stream.XMLStreamWriter)"><code>Bridge.marshal(BridgeContext, Object, XMLStreamWriter)</code></a></P>
        <LI><P><a href="../../bind/api/Bridge.html#marshal(com.sun.xml.bind.api.BridgeContext,T,org.w3c.dom.Node)"><code>Bridge.marshal(BridgeContext, Object, Node)</code></a></P>
        <LI><P><a href="../../bind/api/Bridge.html#unmarshal(com.sun.xml.bind.api.BridgeContext,javax.xml.stream.XMLStreamReader)"><code>Object Bridge.unmarshal(BridgeContext, XMLStreamReader)</code></a></P>
 </UL></div>
</section>
<ul class="blockList">
<li class="blockList">
<table class="typeSummary">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="BindingProviderProperties.html" title="interface in com.sun.xml.ws.client">BindingProviderProperties</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="ResponseContextReceiver.html" title="interface in com.sun.xml.ws.client">ResponseContextReceiver</a></th>
<td class="colLast">
<div class="block">Receives <a href="ResponseContext.html" title="class in com.sun.xml.ws.client"><code>ResponseContext</code></a> at the end of
 the message invocation.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="AsyncInvoker.html" title="class in com.sun.xml.ws.client">AsyncInvoker</a></th>
<td class="colLast">
<div class="block">Invokes <a href="../api/pipe/Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>line asynchronously for the client's async API(for e.g.: Dispatch#invokeAsync}
 The concrete classes need to call <a href="Stub.html#processAsync(com.sun.xml.ws.client.AsyncResponseImpl,com.sun.xml.ws.api.message.Packet,com.sun.xml.ws.client.RequestContext,com.sun.xml.ws.api.pipe.Fiber.CompletionCallback)"><code>Stub.processAsync(AsyncResponseImpl, Packet, RequestContext, Fiber.CompletionCallback)</code></a> in
 run() method.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="AsyncResponseImpl.html" title="class in com.sun.xml.ws.client">AsyncResponseImpl</a>&lt;T&gt;</th>
<td class="colLast">
<div class="block"><a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/ws/Response.html?is-external=true" title="class or interface in javax.xml.ws" class="externalLink"><code>Response</code></a> implementation.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ClientSchemaValidationTube.html" title="class in com.sun.xml.ws.client">ClientSchemaValidationTube</a></th>
<td class="colLast">
<div class="block"><a href="../api/pipe/Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a> that does the schema validation on the client side.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="HandlerConfiguration.html" title="class in com.sun.xml.ws.client">HandlerConfiguration</a></th>
<td class="colLast">
<div class="block">This class holds the handler information and roles on the Binding (mutable info in the binding).</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="MonitorRootClient.html" title="class in com.sun.xml.ws.client">MonitorRootClient</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PortInfo.html" title="class in com.sun.xml.ws.client">PortInfo</a></th>
<td class="colLast">
<div class="block">Information about a port.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="RequestContext.html" title="class in com.sun.xml.ws.client">RequestContext</a></th>
<td class="colLast">
<div class="block">Request context implementation.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="ResponseContext.html" title="class in com.sun.xml.ws.client">ResponseContext</a></th>
<td class="colLast">
<div class="block">Implements "response context" on top of <a href="../api/message/Packet.html" title="class in com.sun.xml.ws.api.message"><code>Packet</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="SEIPortInfo.html" title="class in com.sun.xml.ws.client">SEIPortInfo</a></th>
<td class="colLast">
<div class="block"><a href="PortInfo.html" title="class in com.sun.xml.ws.client"><code>PortInfo</code></a> that has <a href="../api/model/SEIModel.html" title="interface in com.sun.xml.ws.api.model"><code>SEIModel</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Stub.html" title="class in com.sun.xml.ws.client">Stub</a></th>
<td class="colLast">
<div class="block">Base class for stubs, which accept method invocations from
 client applications and pass the message to a <a href="../api/pipe/Tube.html" title="interface in com.sun.xml.ws.api.pipe"><code>Tube</code></a>
 for processing.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="WSServiceDelegate.html" title="class in com.sun.xml.ws.client">WSServiceDelegate</a></th>
<td class="colLast">
<div class="block"><code>Service</code> objects provide the client view of a Web service.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ContentNegotiation.html" title="enum in com.sun.xml.ws.client">ContentNegotiation</a></th>
<td class="colLast">
<div class="block">Content negotiation enum.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ClientTransportException.html" title="class in com.sun.xml.ws.client">ClientTransportException</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="SenderException.html" title="class in com.sun.xml.ws.client">SenderException</a></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2005&#x2013;2019 <a href="http://www.oracle.com/">Oracle Corporation</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
